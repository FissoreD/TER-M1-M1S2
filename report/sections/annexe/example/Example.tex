\section{L* and NL* execution with example}

This section aims to provide an example of the execution of the two algorithms taking the unknown language $U$ defined by $\E+(b+aa+abb)(a+b)^*$ % $+(b+aa+abb)(a+b)*
\input{sections/annexe/example/L_example.tex}
\input{sections/annexe/example/NL_example.tex}

\subsection{About residuals}
In this section I would like to explain why the \textit{mDFA} has one state more the \textit{cRFSA}.



\begin{algorithm}[H]Let's start with the regular expression of $U = regex(\E+(b+aa+abb)(a+b)^*)$. The residuals of this language can be found recursively with \cref{algo:find_residuals}.
  \caption{Algo to find residuals of a language U}
  \label{algo:find_residuals}
  \KwData{$U$, $\Sigma$}
  \KwResult{$\mathcal{R}$ = The set of residuals of $U$}
  $\mathcal{R} \gets \{\}$ \tcp*{Initialisation of $\mathcal{R}$}
  $E \gets \{\E\}$\tcp*{The list of words to treat}
  \While{$E.length > 0$}{
    $current \gets E.pop()$\;
    $residual = (current)^{-1}L\footnote{This operation can be performed, for example, with the \textit{Brzozowski derivative} algorithm}$\;
    \If{$residual \notin \mathcal{R}$}{
      $\mathcal{R} \gets \mathcal{R} \cup \{residual\}$\;
      \For{$sym \in \Sigma$}{
        $word \gets current \cdot sym$\;
        $E \gets E \cup \{word\}$\;
      }
    }
  }
  \Return $\mathcal{R}$
\end{algorithm}

Let's apply this algorithm over $U$.


\begin{tabular}{c|c|c|c|c}
  $Iteration$ & current       & Operation                   & $\mathcal{R}$                                      & $E$                    \\
  \hline\hline
  1           & $\varnothing$ & $\varnothing$               & $\mathcal{R} = \{\}$                               & $\{\E\}$               \\
  2           & $\E$          & $\E^{-1}U = U$              & $\mathcal{R} = \mathcal{R} \cup \{U\}$             & $\{a, b\}$             \\
  3           & $a$           & $a^{-1}U = (a+bb)(a+b)^*$   & $\mathcal{R} = \mathcal{R} \cup \{(a+bb)(a+b)^*\}$ & $\{b, aa, ab\}$        \\
  4           & $b$           & $b^{-1}U = (a+b)^*$         & $\mathcal{R} = \mathcal{R} \cup \{(a+b)^*\}$       & $\{aa, ab, ba, bb\}$   \\
  5           & $aa$          & $(aa)^{-1}U = (a+b)^*$      & $-$                                                & $\{ab, ba, bb\}$       \\
  6           & $ab$          & $(ab)^{-1}U = b(a+b)^*$     & $\mathcal{R} = \mathcal{R} \cup \{b(a+b)^*\}$      & $\{ba, bb, aba, abb\}$ \\
  7           & $ba$          & $(ba)^{-1}U = (a+b)^*$      & $-$                                                & $\{bb, aba, abb\}$     \\
  8           & $bb$          & $(bb)^{-1}U = (a+b)^*$      & $-$                                                & $\{aba, abb\}$         \\
  9           & $aba$         & $(aba)^{-1}U = (a+b)^*$     & $-$                                                & $\{abb\}$              \\
  10          & $abb$         & $(abb)^{-1}U = \varnothing$ & $\mathcal{R} = \mathcal{R} \cup {\varnothing}$     & $\varnothing$          \\
\end{tabular}

We see that the residuals of $U$ are exactly five, the same number of state of the \textit{mDFA} of the automaton learnt by \textit{L*}, but only four of them are \textit{prime} because the residual $(a+b)^* = U \cup (a+bb)(a+b)^* \cup b(a+b)^*$. That's why the $cRFSA$ has only four states.