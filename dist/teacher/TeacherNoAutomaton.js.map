{"version":3,"sources":["../../src/teacher/TeacherNoAutomaton.ts"],"names":["boolToString","equivalenceFunction","TeacherNoAutomaton","counter","max_word_length","constructor","params","description","regex","js_beautify","toString","alphabet","Array","from","check_function","s","match","RegExp","undefined","counter_examples","member","sentence","equiv","automaton"],"mappings":"AACA,OAASA,YAAT,KAAyC,uBAAzC,CACA,OAASC,mBAAT,KAAoC,YAApC,CAUA,MAAO,MAAMC,CAAAA,kBAAsC,CACnC,MAAPC,CAAAA,OAAO,CAAG,CAAH,CAOdC,eAAe,CAAG,CAAH,CAGfC,WAAW,CAACC,MAAD,CAGRC,WAHQ,CAGc,CAEvB,KAAKJ,OAAL,CAAe,CAAf,CACA,KAAKI,WAAL,CAAmBA,WAAW,GAAM,MAAOD,CAAAA,MAAM,CAACE,KAAd,EAAuB,QAAxB,CAAoC,0BAA4BF,MAAM,CAACE,KAAvE,CAEhC,kCAAiCC,WAAW,CAACH,MAAM,CAACE,KAAP,CAAaE,QAAb,EAAD,CAA0B,QAF3C,CAA9B,CAGA,KAAKC,QAAL,CAAgBC,KAAK,CAACC,IAAN,CAAWP,MAAM,CAACK,QAAlB,CAAhB,CACA,KAAKH,KAAL,CAAc,MAAOF,CAAAA,MAAM,CAACE,KAAd,EAAuB,QAAxB,CAAoCF,MAAM,CAACE,KAA3C,CAAmD,uBAAhE,CAEA,KAAKM,cAAL,CACG,MAAOR,CAAAA,MAAM,CAACE,KAAd,EAAuB,QAAxB,CACEO,CAAC,EAAIA,CAAC,CAACC,KAAF,CAAQ,GAAIC,CAAAA,MAAJ,CAAY,KAAIX,MAAM,CAACE,KAAM,IAA7B,CAAR,GAA8CU,SADrD,CAEEZ,MAAM,CAACE,KAHX,CAKA,KAAKW,gBAAL,CAAwBb,MAAM,CAACa,gBAChC,CAMDC,MAAM,CAACC,QAAD,CAA2B,CAC/B,MAAOrB,CAAAA,YAAY,CAAC,KAAKc,cAAL,CAAoBO,QAApB,CAAD,CACpB,CAEDC,KAAK,CAACC,SAAD,CAA2C,CAC9C,MAAOtB,CAAAA,mBAAmB,CAAC,IAAD,CAAOsB,SAAP,CAC3B,CAzCgD","sourcesContent":["import { Automaton } from \"../automaton/Automaton.js\";\r\nimport { boolToString, myFunction } from \"../tools/Utilities.js\";\r\nimport { equivalenceFunction } from \"./Equiv.js\";\r\nimport { Teacher } from \"./Teacher.js\";\r\n\r\n/** \r\n * Teacher taking a js function to test the memebership of a word.\r\n * We must pass a list of counter-exemple to answer to equivalence queries.\r\n * If needed you can use the {@link allStringFromAlphabet} function to \r\n * create all words on a given alphabet with lenght smaller or equal\r\n * to a given length\r\n */\r\nexport class TeacherNoAutomaton implements Teacher {\r\n  static counter = 0;\r\n\r\n  check_function: myFunction<string, boolean>;\r\n  counter_examples: string[];\r\n  counter: number;\r\n  description: string;\r\n  alphabet: string[];\r\n  max_word_length = 8;\r\n  regex: string;\r\n\r\n  constructor(params: {\r\n    regex: string | myFunction<string, boolean>, counter_examples: string[], alphabet:\r\n    string[] | string\r\n  }, description?: string) {\r\n\r\n    this.counter = 0;\r\n    this.description = description || ((typeof params.regex == 'string') ? \"Automaton with regex : \" + params.regex :\r\n      // @ts-ignore\r\n      `Teacher with function<br><pre> ${js_beautify(params.regex.toString())}</pre>`);\r\n    this.alphabet = Array.from(params.alphabet);\r\n    this.regex = (typeof params.regex == 'string') ? params.regex : \"Teacher with function\"\r\n\r\n    this.check_function =\r\n      (typeof params.regex == 'string') ?\r\n        s => s.match(new RegExp(`^(${params.regex})$`)) != undefined :\r\n        params.regex as myFunction<string, boolean>;\r\n\r\n    this.counter_examples = params.counter_examples;\r\n  }\r\n\r\n  /*\r\n  * @param sentence the sentence to test the appartenance\r\n  * @returns the string \"0\" if the sentence is accepted else \"1\"\r\n  */\r\n  member(sentence: string): string {\r\n    return boolToString(this.check_function(sentence));\r\n  }\r\n\r\n  equiv(automaton: Automaton): string | undefined {\r\n    return equivalenceFunction(this, automaton);\r\n  }\r\n\r\n}"],"file":"TeacherNoAutomaton.js"}