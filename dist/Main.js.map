{"version":3,"sources":["../src/Main.ts"],"names":["teachers","HTML_L_star","HTML_NL_star","Automaton","L_star","NL_star","autFunction","TeacherAutomaton","automatonDiv","message","tableHTML","automatonHTML","automatonDivList","initiate_global_vars","$","current_automaton","teacherSelector","teacherDescription","algoSelector","Array","from","mapTeacherValue","counter","currentTeacher","newRegex","newRegexSendButton","changeTeacherOrAlgo","innerHTML","clear_automaton_HTML","checked","learner","teacher","description","MathJax","typeset","createRadioTeacher","newTeacherHtml","document","createElement","value","text","regex","appendChild","onchange","selectedOptions","forEach","as","onclick","addEventListener","graphic_next_step","go_to_end","regexAlreadyExists","find","e","newTeacherOption","selected","process","undefined","window","onload","resizableGrid"],"mappings":"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","sourcesContent":["import { Teacher, teachers } from \"./teacher/Teacher.js\";\r\nimport { HTML_L_star } from \"./html_interactions/HTML_L_star.js\";\r\nimport { HTML_NL_star } from \"./html_interactions/HTML_NL_star.js\";\r\nimport { Automaton } from \"./automaton/Automaton.js\";\r\nimport { L_star } from \"./learners/L_star.js\";\r\nimport { NL_star } from \"./learners/NL_star.js\";\r\nimport * as autFunction from \"./automaton/automaton_type.js\";\r\nimport { TeacherAutomaton } from \"./teacher/TeacherAutomaton.js\";\r\n\r\nexport let\r\n  automatonDiv: HTMLDivElement,\r\n  message: HTMLParagraphElement,\r\n  tableHTML: HTMLTableElement,\r\n  automatonHTML: HTMLDivElement,\r\n  automatonDivList: [Automaton, Node][] = [];\r\n\r\nexport function initiate_global_vars() {\r\n  automatonHTML = $(\"#automaton-mermaid\")[0] as HTMLDivElement;\r\n  automatonDiv = $(\"#input-automaton\")[0] as HTMLDivElement;\r\n  message = $(\"#message\")[0] as HTMLParagraphElement;\r\n  tableHTML = $(\"#table\")[0] as HTMLTableElement;\r\n\r\n  let current_automaton: HTML_NL_star | HTML_L_star,\r\n    teacherSelector = $(\"#teacher-switch\")[0] as HTMLSelectElement,\r\n    teacherDescription = $(\"#teacher_description\")[0] as HTMLParagraphElement,\r\n    algoSelector = Array.from($(\".algo-switch\")) as HTMLInputElement[],\r\n    mapTeacherValue: { [id: string]: Teacher } = {},\r\n    counter = 0,\r\n    currentTeacher: Teacher = teachers[0],\r\n    newRegex = $(\"#input-regex\")![0] as HTMLInputElement,\r\n    newRegexSendButton = $(\"#button-regex\")![0];\r\n\r\n  let changeTeacherOrAlgo = () => {\r\n    tableHTML.innerHTML = \"\";\r\n    message.innerHTML = \"\";\r\n    clear_automaton_HTML()\r\n    current_automaton = algoSelector[0].checked ?\r\n      new HTML_L_star(currentTeacher) :\r\n      new HTML_NL_star(currentTeacher);\r\n    teacherDescription.innerHTML = current_automaton.learner.teacher.description;\r\n    // @ts-ignore\r\n    MathJax.typeset();\r\n  }\r\n\r\n  let createRadioTeacher = (teacher: Teacher) => {\r\n    let newTeacherHtml = document.createElement(\"option\");\r\n    newTeacherHtml.value = counter + \"\";\r\n    newTeacherHtml.text = teacher.regex;\r\n    mapTeacherValue[\"\" + counter++] = teacher;\r\n    teacherSelector.appendChild(newTeacherHtml);\r\n    return newTeacherHtml;\r\n  };\r\n\r\n  changeTeacherOrAlgo()\r\n  teacherSelector.onchange = () => {\r\n    currentTeacher = mapTeacherValue[teacherSelector.selectedOptions[0].value];\r\n    changeTeacherOrAlgo();\r\n  }\r\n\r\n  algoSelector.forEach(as => as.onclick = () => changeTeacherOrAlgo());\r\n\r\n  teachers.forEach((teacher) => createRadioTeacher(teacher));\r\n\r\n  ($(\"#next_step\")[0] as HTMLButtonElement).addEventListener(\"click\", () => current_automaton.graphic_next_step());\r\n  ($(\"#go_to_end\")[0] as HTMLButtonElement).addEventListener(\"click\", () => current_automaton.go_to_end());\r\n\r\n  newRegexSendButton.addEventListener(\"click\", () => {\r\n    let regexAlreadyExists = Array.from($(\"#teacher-switch option\")).find(e => (e as HTMLOptionElement).text == newRegex.value);\r\n    let newTeacherOption: HTMLOptionElement;\r\n    if (regexAlreadyExists) {\r\n      newTeacherOption = regexAlreadyExists as HTMLOptionElement;\r\n    } else {\r\n      currentTeacher = new TeacherAutomaton(\r\n        newRegex.value,\r\n        `My automaton with regex = (${newRegex.value})`);\r\n      newTeacherOption = createRadioTeacher(currentTeacher);\r\n    }\r\n    newTeacherOption.selected = true;\r\n    changeTeacherOrAlgo();\r\n  });\r\n\r\n}\r\n\r\nexport function clear_automaton_HTML() {\r\n  automatonDiv.innerHTML = \"\";\r\n  automatonHTML.innerHTML = \"\";\r\n}\r\n\r\ndeclare global {\r\n  interface Window {\r\n    Automaton: any;\r\n    teachers: Teacher[];\r\n    L_star: any;\r\n    NL_star: any;\r\n    autFunction: any;\r\n    automatonDivList: [Automaton, Node][];\r\n  }\r\n}\r\n\r\n\r\ntry {\r\n  // @ts-ignore\r\n  process == undefined;\r\n} catch (e) {\r\n  window.onload = function () {\r\n    initiate_global_vars();\r\n    // @ts-ignore\r\n    resizableGrid($(\".mainTable\")[0]);\r\n  }\r\n  window.Automaton = Automaton;\r\n  window.teachers = teachers;\r\n  window.L_star = L_star;\r\n  window.NL_star = NL_star;\r\n  window.autFunction = autFunction;\r\n  window.automatonDivList = automatonDivList;\r\n}"],"file":"Main.js"}