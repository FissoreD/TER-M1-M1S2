{"version":3,"sources":["../src/Main.ts"],"names":["Teacher","teachers","HTML_L_star","HTML_NL_star","Automaton","L_star","NL_star","autFunction","automatonDiv","message","tableHTML","automatonHTML","initiate_global_vars","$","button_next","current_automaton","teacher_switch_HTML","teacher_description_HTML","radioAlgo","Array","from","conterRadioButton","mapOptionTeacher","listenerAlgoSwitch","teacher","innerHTML","clear_automaton_HTML","checked","lerner","description","MathJax","typeset","createRadioTeacher","option","document","createElement","value","text","regex","appendChild","addCustomTeacherWithRegex","regexAutButton","createAutButton","addEventListener","sentence","match","RegExp","undefined","radioTeacher","selected","selectedOptions","forEach","e","pos","graphic_next_step","process","window","onload"],"mappings":"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","sourcesContent":["import { Teacher, teachers } from \"./Teacher.js\";\r\nimport { HTML_L_star } from \"./html_interactions/HTML_L_star.js\";\r\nimport { HTML_NL_star } from \"./html_interactions/HTML_NL_star.js\";\r\nimport { Automaton } from \"./automaton/Automaton.js\";\r\nimport { L_star } from \"./lerners/L_star.js\";\r\nimport { NL_star } from \"./lerners/NL_star.js\";\r\nimport * as autFunction from \"./automaton/automaton_type.js\";\r\n\r\nexport let\r\n  automatonDiv: HTMLDivElement,\r\n  message: HTMLParagraphElement,\r\n  tableHTML: HTMLTableElement,\r\n  automatonHTML: HTMLDivElement;\r\n\r\nexport function initiate_global_vars() {\r\n  automatonHTML = $(\"#automaton-mermaid\")[0] as HTMLDivElement;\r\n  automatonDiv = $(\"#input-automaton\")[0] as HTMLDivElement;\r\n  let button_next = $(\"#next_step\")[0] as HTMLButtonElement;\r\n  message = $(\"#message\")[0] as HTMLParagraphElement;\r\n  tableHTML = $(\"#table\")[0] as HTMLTableElement;\r\n\r\n  let current_automaton: HTML_NL_star | HTML_L_star;\r\n\r\n  let teacher_switch_HTML = $(\"#teacher_switch\")[0] as HTMLSelectElement;\r\n  let teacher_description_HTML = $(\"#teacher_description\")[0] as HTMLParagraphElement;\r\n  let radioAlgo = Array.from($(\".algo-switch\")) as HTMLInputElement[];\r\n  let conterRadioButton = 0;\r\n\r\n  let mapOptionTeacher: { [key: string]: Teacher } = {}\r\n\r\n  let listenerAlgoSwitch = (teacher: Teacher) => {\r\n    tableHTML.innerHTML = \"\";\r\n    message.innerHTML = \"\";\r\n    clear_automaton_HTML()\r\n    current_automaton = radioAlgo[0].checked ?\r\n      new HTML_L_star(teacher) :\r\n      new HTML_NL_star(teacher);\r\n    teacher_description_HTML.innerHTML = current_automaton.lerner.teacher.description;\r\n    // @ts-ignore\r\n    MathJax.typeset();\r\n  }\r\n\r\n  let createRadioTeacher = (teacher: Teacher) => {\r\n    let option = document.createElement(\"option\");\r\n    option.value = \"\" + conterRadioButton++;\r\n    option.text = teacher.regex;\r\n    teacher_switch_HTML.appendChild(option)\r\n    mapOptionTeacher[option.value] = teacher;\r\n    return option;\r\n  };\r\n\r\n  let addCustomTeacherWithRegex = () => {\r\n    let regexAutButton = $(\"#input-regex\")![0] as HTMLInputElement;\r\n    let createAutButton = $(\"#button-regex\")![0];\r\n    createAutButton.addEventListener(\"click\", () => {\r\n      let teacher = new Teacher(`My automaton with regex = (${regexAutButton.value})`, regexAutButton.value,\r\n        sentence =>\r\n          sentence.match(new RegExp(\"^(\" + regexAutButton.value + \")$\")) != undefined,\r\n        []);\r\n      let radioTeacher = createRadioTeacher(teacher)\r\n      radioTeacher.selected = true\r\n      listenerAlgoSwitch(teacher)\r\n    });\r\n  }\r\n\r\n  // Add listener to select teacher \r\n  teacher_switch_HTML.addEventListener(\"change\", function () {\r\n    listenerAlgoSwitch(mapOptionTeacher[this.selectedOptions[0].value])\r\n  });\r\n\r\n  // Change algo if press one of L* or NL* radio button\r\n  radioAlgo.forEach(e => {\r\n    e.addEventListener(\"click\", () => listenerAlgoSwitch(current_automaton.lerner.teacher))\r\n  })\r\n\r\n  teachers.forEach((teacher, pos) => {\r\n    let radioTeacher = createRadioTeacher(teacher);\r\n    if (pos == 0) listenerAlgoSwitch(teacher);\r\n  });\r\n\r\n  button_next.addEventListener(\"click\", () => {\r\n    current_automaton.graphic_next_step()\r\n  });\r\n\r\n  addCustomTeacherWithRegex();\r\n}\r\n\r\nexport function clear_automaton_HTML() {\r\n  automatonDiv.innerHTML = \"\";\r\n  automatonHTML.innerHTML = \"\";\r\n}\r\n\r\ndeclare global {\r\n  interface Window {\r\n    Automaton: any;\r\n    Teacher: any;\r\n    teachers: Teacher[];\r\n    L_star: any;\r\n    NL_star: any;\r\n    autFunction: any;\r\n  }\r\n}\r\n\r\ntry {\r\n  // @ts-ignore\r\n  process == undefined;\r\n} catch (e) {\r\n  window.onload = () => initiate_global_vars();\r\n  window.Automaton = Automaton;\r\n  window.Teacher = Teacher;\r\n  window.teachers = teachers;\r\n  window.L_star = L_star;\r\n  window.NL_star = NL_star;\r\n  window.autFunction = autFunction;\r\n}\r\n\r\n// mainMonoid()"],"file":"Main.js"}