{"version":3,"sources":["../../src/test_nodejs/Test_wrost_RFSA.ts"],"names":["clearFile","csvHead","printCsvCompare","printInfo","writeToFile","L_star","NL_star","TeacherAutomaton","Automaton","State","minimizeAutomaton","MyAutomatonToHis","allStringFromAlphabet","myLog","toWrite","automatonList","counter_examples","alphabet","maxLength","N","maxN","n","a","states","Array","fill","map","_","i","addTransition","push","Set","console","log","length","allStates","fileName","automaton","teacher","description","L","NL","repeat","toLog","make_all_queries"],"mappings":"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","sourcesContent":["import { LearnerBase } from \"../learners/LearnerBase.js\";\r\nimport { clearFile, csvHead, printCsvCompare, printInfo, writeToFile } from \"./PrintFunction.js\";\r\nimport { L_star } from \"../learners/L_star.js\";\r\nimport { NL_star } from \"../learners/NL_star.js\";\r\nimport { TeacherAutomaton } from \"../teacher/TeacherAutomaton.js\";\r\nimport { Automaton, State } from \"../automaton/Automaton.js\";\r\nimport { minimizeAutomaton, MyAutomatonToHis } from \"../automaton/automaton_type.js\";\r\nimport { allStringFromAlphabet, myLog } from \"../tools/Utilities.js\";\r\n\r\n/**\r\n * About this file : \r\n * The goal here is to compare L and NL algo in term\r\n * of the number of queries and equiv function that \r\n * the learner will ask to the teacher.\r\n * We measure in this way a particular kind of \r\n * complexity of these algorithms and will try to \r\n * test which one of the two algorithms will perform less\r\n * interactions with the teacher.\r\n */\r\n\r\nlet toWrite = true\r\n\r\nlet automatonList: Automaton[] = []\r\nlet counter_examples = allStringFromAlphabet({ alphabet: \"ab\", maxLength: 14 })\r\nconst N = 12, maxN = 13;\r\nfor (let n = N; n < maxN; n++) {\r\n  myLog({ a: [\"Creating test with\", n, \"power\"] });\r\n\r\n  let states: State[] = new Array(n).fill(0).map((_, i) => new State(i + \"\", i == 0, i < n / 2, ['a', 'b']));\r\n\r\n  for (let i = 0; i < n - 1; i++)\r\n    states[i].addTransition('a', states[i + 1])\r\n  states[n - 1].addTransition('a', states[0]);\r\n  states[0].addTransition('b', states[0]);\r\n  for (let i = 2; i < n; i++)\r\n    states[i].addTransition('b', states[i - 1])\r\n  states[1].addTransition('b', states[n - 1])\r\n  automatonList.push(minimizeAutomaton(MyAutomatonToHis(new Automaton(new Set(states)))));\r\n  console.log(n, automatonList[automatonList.length - 1].allStates.length);\r\n\r\n}\r\n\r\n\r\nlet fileName = \"wrostRFSA\";\r\nif (toWrite) {\r\n  clearFile(fileName)\r\n  writeToFile(fileName, csvHead)\r\n}\r\n\r\n\r\nfor (let i = 0; i < automatonList.length; i++) {\r\n  let automaton = automatonList[i]\r\n  let teacher = new TeacherAutomaton({\r\n    automaton: automaton,\r\n    description: (N + i) + \"\",\r\n    counter_examples: counter_examples\r\n  })\r\n\r\n  let L = new L_star(teacher)\r\n  let NL = new NL_star(teacher)\r\n\r\n  myLog({ a: [\"=\".repeat(100)], toLog: true });\r\n  myLog({ a: [\"Current n : \", N + i], toLog: true });\r\n\r\n  myLog({ a: [\"In L*\"], toLog: true });\r\n  L.make_all_queries();\r\n  myLog({ a: [printInfo(L, \"L*\")], toLog: true });\r\n\r\n  myLog({ a: [\"In NL*\"], toLog: true });\r\n  NL.make_all_queries();\r\n  myLog({ a: [printInfo(NL, \"NL*\")], toLog: true });\r\n\r\n  if (toWrite) writeToFile(fileName, printCsvCompare(L, NL))\r\n}\r\n"],"file":"Test_wrost_RFSA.js"}