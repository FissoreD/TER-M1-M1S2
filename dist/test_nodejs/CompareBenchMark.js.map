{"version":3,"sources":["../../src/test_nodejs/CompareBenchMark.ts"],"names":["readdirSync","readFileSync","clearFile","csvHead","printCsvCompare","printInfo","writeToFile","TeacherTakingAut","L_star","NL_star","Automaton","benchMark","path","fileName","files","automata","toWrite","l","underFolder","console","log","newPath","file","includes","endsWith","repeat","error","content","toString","automaton","strToAutomaton","teacher","regex","state_number","push","description","map","e","sort","a","b","forEach","index","length","L","NL","make_all_queries"],"mappings":"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","sourcesContent":["import { readdirSync, readFileSync } from \"fs\";\r\nimport { clearFile, csvHead, printCsvCompare, printInfo, writeToFile } from \"./PrintFunction.js\";\r\nimport { TeacherTakingAut } from \"../teacher/TeacherTakingAut.js\";\r\nimport { L_star } from \"../learners/L_star.js\";\r\nimport { NL_star } from \"../learners/NL_star.js\";\r\nimport { Teacher } from \"../teacher/Teacher.js\";\r\nimport { Automaton } from \"../automaton/Automaton.js\";\r\n\r\nlet benchMark = true;\r\n\r\nlet path = (\"./statistics/\" + (benchMark ? \"benchMark/\" : \"automata/\")),\r\n  fileName = benchMark ? \"benchMark\" : \"randomAutomata\",\r\n  files = readdirSync(path),\r\n  automata: [Teacher, string][] = [],\r\n  toWrite = true;\r\n\r\nlet l = [\r\n  '1.5-0.1/A13.ba', '1.5-0.1/A17.ba', '1.5-0.1/A19.ba', '1.5-0.1/A2.ba',\r\n  '1.5-0.1/A27.ba', '1.5-0.1/A3.ba', '1.5-0.1/A37.ba', '1.5-0.1/A42.ba',\r\n  '1.5-0.1/A44.ba', '1.5-0.1/A58.ba', '1.5-0.1/A7.ba', '1.5-0.1/A79.ba',\r\n  '1.5-0.1/A80.ba', '1.5-0.1/A82.ba', '1.5-0.1/A85.ba', '1.5-0.1/A93.ba',\r\n  '1.5-0.1/A99.ba', '1.5-0.1/B12.ba', '1.5-0.1/B18.ba', '1.5-0.1/B23.ba',\r\n  '1.5-0.1/B29.ba', '1.5-0.1/B37.ba', '1.5-0.1/B48.ba', '1.5-0.1/B49.ba',\r\n  '1.5-0.1/B5.ba', '1.5-0.1/B58.ba', '1.5-0.1/B60.ba', '1.5-0.1/B71.ba',\r\n  '1.5-0.1/B80.ba', '1.5-0.1/B9.ba', '1.5-0.2/A14.ba', '1.5-0.2/A17.ba',\r\n  '1.5-0.2/A2.ba', '1.5-0.2/A42.ba', '1.5-0.2/A73.ba', '1.5-0.2/A89.ba',\r\n  '1.5-0.2/A9.ba', '1.5-0.2/B15.ba', '1.5-0.2/B21.ba', '1.5-0.2/B30.ba',\r\n  '1.5-0.2/B42.ba', '1.5-0.2/B48.ba', '1.5-0.2/B53.ba', '1.5-0.2/B59.ba',\r\n  '1.5-0.2/B60.ba', '1.5-0.2/B71.ba', '1.5-0.2/B81.ba', '1.5-0.2/B84.ba',\r\n  '1.5-0.2/B92.ba', '1.5-0.2/B99.ba', '1.5-0.3/A36.ba', '1.5-0.3/A45.ba',\r\n  '1.5-0.3/A5.ba', '1.5-0.3/A52.ba', '1.5-0.3/A62.ba', '1.5-0.3/A64.ba',\r\n  '1.5-0.3/A77.ba', '1.5-0.3/A89.ba', '1.5-0.3/B57.ba', '1.5-0.4/A11.ba',\r\n  '1.5-0.4/A45.ba', '1.5-0.4/A50.ba', '1.5-0.4/A53.ba', '1.5-0.4/A65.ba',\r\n  '1.5-0.4/A68.ba', '1.5-0.4/A95.ba', '1.5-0.4/B25.ba', '1.5-0.5/A19.ba',\r\n  '1.5-0.5/A2.ba', '1.5-0.5/A4.ba', '1.5-0.5/A69.ba', '1.5-0.5/A96.ba',\r\n  '1.5-0.5/B20.ba', '1.5-0.5/B23.ba', '1.5-0.5/B55.ba', '1.5-0.5/B79.ba',\r\n  '1.5-0.5/B91.ba', '1.5-0.6/A5.ba', '1.5-0.6/A69.ba', '1.5-0.6/B19.ba',\r\n  '1.5-0.6/B89.ba', '1.5-0.6/B97.ba', '1.5-0.7/A40.ba', '1.5-0.7/A59.ba',\r\n  '1.5-0.7/A64.ba', '1.5-0.7/A72.ba', '1.5-0.7/A91.ba', '1.5-0.7/B50.ba',\r\n  '1.5-0.7/B73.ba', '1.5-0.7/B90.ba', '1.5-0.8/A42.ba', '1.5-0.8/A57.ba',\r\n  '1.5-0.8/A88.ba', '1.5-0.8/B54.ba', '1.5-0.9/A36.ba', '1.5-0.9/A40.ba',\r\n  '1.5-0.9/B16.ba', '1.5-0.9/B43.ba', '1.5-0.9/B82.ba', '1.5-1/B86.ba'\r\n];\r\n\r\nfor (const underFolder of files) {\r\n  console.log(underFolder);\r\n  // if (Number.parseInt(underFolder) < 0 || Number.parseInt(underFolder) > 24) continue;\r\n  // if (!underFolder.startsWith(\"1.5-0.1\")) break\r\n  let newPath = path + underFolder + \"/\";\r\n  let files = readdirSync(newPath);\r\n  for (const file of files) {\r\n    if (!l.includes(underFolder + \"/\" + file)) continue\r\n    if (!file.endsWith('.ba')) continue\r\n    console.log(\"=\".repeat(90))\r\n    console.error(\"Creating automaton of file\", underFolder + \"/\" + file);\r\n    console.log(\"Creating automaton of file\", underFolder + \"/\" + file);\r\n    let content = readFileSync(newPath + file).toString();\r\n    let automaton = Automaton.strToAutomaton(content);\r\n    let teacher = new TeacherTakingAut({ automaton: automaton, regex: underFolder + \"/\" + file })\r\n    if (teacher.automaton.state_number() < 81) continue\r\n    automata.push([teacher, underFolder + \"/\" + file]);\r\n    teacher.description = teacher.automaton.state_number() + \"\"\r\n  }\r\n}\r\nconsole.log(automata.map(e => e[1]));\r\n\r\nconsole.log(\"=\".repeat(90))\r\nconsole.log(\"Automata created the ordered list of states is :\");\r\nautomata.sort((a, b) => a[0].automaton!.state_number() - b[0].automaton!.state_number())\r\nautomata.forEach(a => console.log(a[0].automaton!.state_number()));\r\n\r\n\r\n\r\nif (toWrite) {\r\n  clearFile(fileName);\r\n  writeToFile(fileName, csvHead);\r\n}\r\n\r\n\r\nfor (let index = 0; index < automata.length; index++) {\r\n  const [teacher, file] = automata[index];\r\n\r\n  let L = new L_star(teacher),\r\n    NL = new NL_star(teacher);\r\n\r\n  console.log(\"=\".repeat(90))\r\n  console.error(file, \"Current benchmark :\", index, \"/\", automata.length, \"With state number\", teacher.automaton!.state_number());\r\n  console.log(file, \"Current benchmark :\", index, \"/\", automata.length, \"With state number\", teacher.automaton!.state_number());\r\n\r\n  console.log(\"In L*\");\r\n\r\n  L.make_all_queries();\r\n  console.log(printInfo(L, \"L*\"));\r\n  console.log(\"-\".repeat(80));\r\n  console.log(\"In NL*\");\r\n  NL.make_all_queries();\r\n  console.log(printInfo(NL, \"NL*\"));\r\n\r\n  console.log(printCsvCompare(L, NL));\r\n\r\n  if (toWrite) writeToFile(fileName, printCsvCompare(L, NL))\r\n}"],"file":"CompareBenchMark.js"}